(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8KqF":function(t,a,e){"use strict";var s=e("GjR2");e.n(s).a},GjR2:function(t,a,e){var s=e("LwoV");"string"==typeof s&&(s=[[t.i,s,""]]);e("aET+")(s,{hmr:!0,transform:void 0,insertInto:void 0}),s.locals&&(t.exports=s.locals)},JutZ:function(t,a,e){"use strict";var s=e("mufa");e.n(s).a},LwoV:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".dashboard-stats,.jumbotron{background-color:#fff;box-shadow:0 3px 4px -2px rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.08),0 1px 8px 0 rgba(0,0,0,.08)}",""])},Pb6i:function(t,a,e){"use strict";e.r(a),e("DQNa");var s=e("o0o1"),r=e.n(s),n=(e("ls82"),e("HaE+")),i=e("QEud"),o={name:"DashboardStats",components:{DatePicker:e.n(i).a},data:function(){return{loading:!1,groupedStats:{},createdAtRange:{}}},methods:{getStats:function(){var t=arguments,a=this;return Object(n.a)(r.a.mark((function e(){var s,n,i,o,d,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.length>0&&void 0!==t[0]?t[0]:{start:new Date,end:new Date},n=s.start,i=s.end,!a.loading){e.next=3;break}return e.abrupt("return");case 3:return a.loading=!0,o=n&&i?[moment(n).format("YYYY-MM-DD"),moment(i).format("YYYY-MM-DD")]:[moment().format("YYYY-MM-DD"),moment().format("YYYY-MM-DD")],a.createdAtRange={start:n,end:i},e.next=8,axios.get("/admin/dashboard/get_stats",{params:{date_range:o}});case 8:d=e.sent,l=d.data,a.groupedStats=l,a.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}},created:function(){this.getStats()}},d=(e("JutZ"),e("KHd+")),l={name:"Dashboard",components:{DashboardStats:Object(d.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-stats card"},[e("div",{staticClass:"card-body"},[e("h4",{directives:[{name:"t",rawName:"v-t",value:"statistics",expression:"'statistics'"}],staticClass:"card-title mb-3"}),t._v(" "),e("div",{staticClass:"card-body pt-0 pb-0"},[e("fieldset",[e("legend",{directives:[{name:"t",rawName:"v-t",value:"period",expression:"'period'"}]}),t._v(" "),e("date-picker",{attrs:{mode:"range",popover:{visibility:"click"},value:t.createdAtRange,"min-date":new Date("2020-09-01"),"max-date":new Date,columns:t.$screens({lg:2},1),"is-expanded":t.$screens({default:!0,lg:!1}),"input-debounce":500,disabled:t.loading},on:{input:t.getStats}}),t._v(" "),e("app-transition",{attrs:{name:"collapse"}},[t.loading?e("div",{staticClass:"text-center mt-2"},[e("div",{staticClass:"spinner-border text-warning",staticStyle:{width:"22px",height:"22px"},attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])]):t._e()])],1)]),t._v(" "),e("div",{staticClass:"card-body"},[e("ul",{staticClass:"nav nav-tabs"},t._l(t.groupedStats,(function(a,s){var r=a.title;return e("li",{key:r,staticClass:"nav-item"},[e("a",{class:["nav-link",{active:!s}],attrs:{href:"#"+r,"data-toggle":"tab","aria-expanded":"false"}},[e("i",{staticClass:"mdi mdi-home-variant d-lg-none d-block mr-1"}),t._v(" "),e("span",{staticClass:"d-none d-lg-block"},[t._v(t._s(r))])])])})),0),t._v(" "),e("div",{staticClass:"tab-content"},t._l(t.groupedStats,(function(a,s){var r=a.title,n=a.items;return e("div",{key:s+r,class:["tab-pane",{active:!s}],attrs:{id:r}},[e("ul",{staticClass:"list-group"},t._l(n,(function(a){var s=a.label,r=a.value,n=a.period_dependent;return e("li",{class:["list-group-item",{orange:n}]},[e("span",{domProps:{textContent:t._s(s)}}),t._v(" "),e("span",{staticClass:"item-value",domProps:{innerHTML:t._s(r)}})])})),0)])})),0),t._v(" "),e("small",{staticClass:"ml-1 mr-1",staticStyle:{color:"var(--stats-dark-orange)"}},[t._v("\n                * "+t._s(t.$t("hints.dashboard-statistics-orange-hint"))+"\n            ")])])])])}),[],!1,null,"61dea824",null).exports}},c=(e("8KqF"),Object(d.a)(l,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container-fluid animated fadeIn"},[a("div",{staticClass:"jumbotron mb-2"},[a("h1",{directives:[{name:"t",rawName:"v-t",value:"welcome",expression:"'welcome'"}],staticClass:"display-3"}),this._v(" "),a("p",{directives:[{name:"t",rawName:"v-t",value:"hints.admin-dashboard",expression:"'hints.admin-dashboard'"}]}),this._v(" "),a("p",{staticClass:"lead"},[a("a",{directives:[{name:"t",rawName:"v-t",value:"log-out",expression:"'log-out'"}],staticClass:"btn btn-primary",attrs:{href:"/admin/logout",role:"button"}})])]),this._v(" "),a("dashboard-stats")],1)}),[],!1,null,null,null));a.default=c.exports},mufa:function(t,a,e){var s=e("xleF");"string"==typeof s&&(s=[[t.i,s,""]]);e("aET+")(s,{hmr:!0,transform:void 0,insertInto:void 0}),s.locals&&(t.exports=s.locals)},xleF:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".dashboard-stats[data-v-61dea824]{--stats-orange:#ffab12;--stats-light-orange:#fdf8ee;--stats-dark-orange:#e69a0d}.dashboard-stats fieldset[data-v-61dea824]{display:flex;flex-direction:column;padding:10px;border:1px solid #e0e5ed;border-radius:5px}.dashboard-stats fieldset legend[data-v-61dea824]{width:auto;margin:0 0 -5px;padding:0 6px;font-size:15px;color:inherit}.dashboard-stats .list-group-item[data-v-61dea824]{padding:5px 10px;border-left:4px solid #eee;border-right:4px solid #eee}.dashboard-stats .list-group-item.orange[data-v-61dea824]{background-color:var(--stats-light-orange);border-left-color:var(--stats-orange);border-right-color:var(--stats-orange)}.dashboard-stats .list-group-item.orange .item-value[data-v-61dea824]{color:var(--stats-dark-orange)}.dashboard-stats .list-group-item .item-value[data-v-61dea824]{margin-left:2px;font-weight:700;color:#7c6aef}",""])}}]);